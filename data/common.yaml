---
deploy_eyaml_test: ENC[PKCS7,MIIBeQYJKoZIhvcNAQcDoIIBajCCAWYCAQAxggEhMIIBHQIBADAFMAACAQEwDQYJKoZIhvcNAQEBBQAEggEAPB4UvSrwKG/qxuUze3Fs66MT5QsjXvFtVG1m3dH9phr6NmS7P2YpyF2SWo+Ak5hG9iNfBUCBFaUqltjmAyg6fdCBdfAe8str9mcECZ06AXFtwY4cv45hDDWFKcQTWySE3HcWTxnF/8l2L4Dn8jvnNV5Gg8ZB52yYTvCaywzb6eT1qksAo6iiH5CEB7aKJHDJL4fRdY/1Zrg78rXLyEpUVJ8X3/n6M5DWwUW0jXdZ7MqROvIXtzbfrYmwwLtbsdGlShGSrZYJGFFNq7X/zMv7OVFwHuVbNgo1m1kOvPU6oqBA2OlLmH7mC1yDYSaIt+PBp6yViR31rsEq2SuQ4pTwhjA8BgkqhkiG9w0BBwEwHQYJYIZIAWUDBAEqBBAfBoZB5x1aAq5qe6lghPazgBBKf70bNDTz6jbQ6Nm5zJl5]
dell::api_key: ENC[PKCS7,MIIBmQYJKoZIhvcNAQcDoIIBijCCAYYCAQAxggEhMIIBHQIBADAFMAACAQEwDQYJKoZIhvcNAQEBBQAEggEAt7On5H4PEAk+Y765uqQqPqZgmOQY8PTTRQAt7qPVepchGyXss6mTKh4B8zhrMB+NuvMU8W3cXhFKEFSoSycD4n4QVHYhlF7zhDD6mpZKu3Yp8aonHupzXQ2iolcfDCPxPHnKptwbcysVoRPnPmHb19oqcaWunT7RKQxE4WHbHWeEKIPWSQ3LOz8Ctjo7AdtBG4djJe55QDFa4nANlncs3RDBiTt6GWlktk0XaFIRY0uFfJ3HrPilrfsFQYhwKGpxfYi0tv4+9C8q9fx8yixXMLyvSOILLjJQPfe4YSUkf9HURk37NGCeVHZXcgZRKSQrnbnpmEcaruncnDVYjDAyNTBcBgkqhkiG9w0BBwEwHQYJYIZIAWUDBAEqBBCbydzMbf83F8oBBQgh0abegDCy1ofL3fQSuzHk8rx3LPAJjwCC902I4gKDuYP0xl0ykIDDh/veoy8xox9zv2we2Xw=]
# Collectd system packages installeren
collectd::manage_repo: false
collectd::plugin::disk::manage_package: false
# UGent iscsi initiator defaults
iscsi::initiator::initiatorname: iqn.2003-02.be.ugent:ca60.%{facts.hostname}
iscsi::initiator::iscsid_startup: 'automatic'
iscsi::initiator::startup: 'automatic'
iscsi::initiator::node_authmethod: 'CHAP'
iscsi::initiator::discovery_authmethod: 'CHAP'
# Globale ssl settings
apache::mod::ssl::ssl_cipher: "HIGH:MEDIUM:!aNULL:!MD5:!RC4"
# Globale CAS settings
apache::mod::auth_cas::cas_login_url: 'https://login.ugent.be/login'
apache::mod::auth_cas::cas_validate_url: 'https://login.ugent.be/samlValidate'
# Globale mirror settings
basesys::aptly_mirror: "all-%{::lsbdistcodename}-latest"
# Global MySQL setup settings
mysql_server::backup_share: 'mysql_backups'
orchestrator_topology_privileges:
  - SUPER
  - PROCESS
  - REPLICATION SLAVE
  - RELOAD
mysqlorchestrator::power_users:
  - 'rgevaert'
  - 'fdleersn'
  - 'jorschra'
  - 'geroggem'
  - 'savdamme'
  - 'jvcamp'
  - 'dbollaer'
  - 'dcadriae'
  - 'iddecker'
  - 'goborrem'
  - 'tkorocz'
orchestrator::override_options:
  Debug: false
  EnableSyslog: true
  AuditToSyslog: true
  RemoveTextFromHostnameDisplay: '.ugent.be:3306'
  StatusSimpleHealth: false
  # No PseudoGTID @ UGent
  PseudoGTIDPattern: ''
  PseudoGTIDPatternIsFixedSubstring: false
  PseudoGTIDMonotonicHint: 'asc:'
  DetectPseudoGTIDQuery: ''
  OnFailureDetectionProcesses:
    - "/usr/local/orchestrator/resources/scripts/post_to_slack.sh 'Detected {failureType} on {failureCluster}. Affected replicas: {countSlaves}'"
  PreFailoverProcesses:
    - "/usr/local/orchestrator/resources/scripts/post_to_slack.sh 'Will recover from {failureType} on {failureCluster}'"
  PostFailoverProcesses:
    - "/usr/local/orchestrator/resources/scripts/post_to_slack.sh '(for all types) Recovered from {failureType} on {failureCluster}. Failed: {failedHost}:{failedPort}; Successor: {successorHost}:{successorPort}'"
  PostMasterFailoverProcesses:
    - "/usr/local/orchestrator/resources/scripts/post_to_slack.sh 'Recovered from {failureType} on {failureCluster}. Failed: {failedHost}:{failedPort}; Promoted: {successorHost}:{successorPort}'"
  PostIntermediateMasterFailoverProcesses:
    - "/usr/local/orchestrator/resources/scripts/post_to_slack.sh 'Recovered from {failureType} on {failureCluster}. Failed: {failedHost}:{failedPort}; Successor: {successorHost}:{successorPort}'"
  ApplyMySQLPromotionAfterMasterFailover: true
  DetectClusterAliasQuery: 'SELECT `cluster_name` FROM `mysql`.`ugent_cluster_info` LIMIT 1'
  DetectClusterDomainQuery: 'SELECT `cluster_name` FROM `mysql`.`ugent_cluster_info` LIMIT 1'
  DetectDataCenterQuery: 'SELECT `datacenter` FROM `mysql`.`ugent_cluster_info` LIMIT 1'

cmae::customer_id: ughent@feedback.cloudmark.com
cmae::license: ENC[PKCS7,MIIBuQYJKoZIhvcNAQcDoIIBqjCCAaYCAQAxggEhMIIBHQIBADAFMAACAQEwDQYJKoZIhvcNAQEBBQAEggEASIlKERrbFwJQqYuaWJwGBFpX3GKXC/3zxAPOag+DBMEg/pUnjqOVSN+F4bIbPuwJWXzsZQSzh6nnKQwlp6aXiqRXoLkth4aqTNwkShmr4e8e42NizFmtT2j/NMB8M2dvytNoq+dKTto/0Ris/1PUnKfjBGrQTNcW9k/X3ubfq9DPOJsPPaETL8dXzWoi8RfbBLCFwFTOIbDKQqs1JW86RLFkAHZjcXakbIyM8tY+G523pwfHfcLzOc2/SOI6iO76U9GK8kh3YqVyDner7eF17Pp9YtLCuDpp0/zqn6DWp3u8f1cg3eYKRVHj5Abx97hj/aZZK/pnrU/eOlU0Ut6yETB8BgkqhkiG9w0BBwEwHQYJYIZIAWUDBAEqBBBXtW+911DwSfUoJamGwJP2gFAhxhq/fMbumq7RfE5fnOz1QDwcH+HVDKhVk9linuWF2mPdiKTTlH55+Bo+XoeBT0RqYdJc6VLAEklrJwVsJV4UrvqIL1njUxdHijp9ZIaHnA==]

mysql_server::collectd_username: 'collectd'
mysql_server::collectd_password: 'ENC[PKCS7,MIIBmQYJKoZIhvcNAQcDoIIBijCCAYYCAQAxggEhMIIBHQIBADAFMAACAQEwDQYJKoZIhvcNAQEBBQAEggEAS1MPzpBwisuUu72p+s6xswwEN+sxqt9e1MBtJRMg0kAi2Tzv1avC6flX8l5xgnuYkgAfydRQAn63tT5RCFk5/dQzdYPYyc0pJ6UUQ2gN7i4dx/tfp5n8V/S/ImgUFpvnh/aeyOy+i8YqlPHPzgW5BN+3ikCBOEy+FaNvljIVqzf6/x8aqlWrWluibKbjs8ZKbUD4/hjBjBgeKDbIC8LUgNybKBAttUWfO6M/zIboSksPt64UvaaWoWXleAZo0ZkYG7S/GdWmkdnP1eAVeqP/iLZ5mx/oykwj0EoohZYY+mZbC1BnsZVSWE28+2hPZqu8/aGcpaA5wmRjCU6rLFOGJzBcBgkqhkiG9w0BBwEwHQYJYIZIAWUDBAEqBBBupvivGg1WjXq21IgvXFdJgDB+8iaEUqF43oz4xBvO/96AQDSTQpP1seYNOaHU6dQ9PHjxRvTz4oDqxJ87gXTWHFA=]'

postgres_server::nagios_username: 'nagios'
postgres_server::nagios_password: 'ENC[PKCS7,MIIBqQYJKoZIhvcNAQcDoIIBmjCCAZYCAQAxggEhMIIBHQIBADAFMAACAQEwDQYJKoZIhvcNAQEBBQAEggEAXYRdkwLU3MgMQDDuYxTP/cCDm2pQK0mh8dkhgg9kKR+LfpU/nF1SPGRAyMk0U/Uoq/Xm2n7ZkX5g97aCJ+pm/eRPA6xRF8B1NalrVCyGUC+VayFFov0y8BqWXHdUZUgm5c6AlEJMwZKntEoLwFhi04X6yBKuwgv48XvsIrZCDy7ch1jTBdOz3Y+C0OBkJkSmJA+R7tnZ572DzWle2sWOSL4PU6YP6TynpyKKRG0mQiK300k9/pOQHSNjeTuPiAgs9fmyERqVx8anrFt+M1k8/6Z86D6P/3Pr12w66hbR4/uuWa9SB6nubywrfhhTM7wADL62vlRezDWoR4QGekNGAzBsBgkqhkiG9w0BBwEwHQYJYIZIAWUDBAEqBBCGpVaynrbKp2kgzZs10mkugEC9he8B4WOCiuI1T6uu1AaotConecb3pkUpjK9W5z3RD9wDdyIfuZ+OIeHCfu902aflh2VjMgifT6vBfNkbzwG5]'
postgres_server::collectd_username: 'collectd'
postgres_server::collectd_password: 'ENC[PKCS7,MIIBeQYJKoZIhvcNAQcDoIIBajCCAWYCAQAxggEhMIIBHQIBADAFMAACAQEwDQYJKoZIhvcNAQEBBQAEggEAIAgKtSCban5Nbl8AsqB6/1wjF54Ef9QSLNQ7V0kGVske1oQss/9h/kPEWDLbRpk7OYC4IqFvamr3SN4NuKZOTHjJ/demcjrvtHjgGMm+kd7IGBS1SuxKXi1yLDUynvpNk+u0ceF6rNhQZwqetodmFpXgwB5Wv7bN7RMeT+tBWoU0Pdbrq12+UhNh5lUC3MqbKa/O2TN23etha0cpi/FYF3UYOknMg3dWhn3npUB99y2wE+doiJfDyRaRaM3e5iJvjybOkAFhuF5ZuhXxtXE1tvWBXU2uMxuLkZIJOLf43/QrFOOBc/PwvRBnf6ZornhZZfMBWnbom4+tWaP6s1oOeDA8BgkqhkiG9w0BBwEwHQYJYIZIAWUDBAEqBBDJyP9eiFgvfT5mo0e1NUzcgBDSqm1BmqAFp/ui82MSdoJ6]'

# Toegang tot icingaweb2
monitoring::icingaweb2::roles:
  'UGent admin users':
    users: 'rgevaert-local, netways'
    permissions: '*'
  # Systemen heeft voorlopig ook nog een lokale groep
  'systemen':
    groups: 'GGR.CA60.Systemen'
    permissions: 'module/director, director/*, module/doc, module/monitoring, monitoring/command/*'
    filters:
      'monitoring/filter/objects': 'hostgroup_name=*'
  'icto':
    groups: 'GGR.CA60.ICTO'
    permissions: 'module/doc, module/monitoring, monitoring/command/*'
    filters:
      'monitoring/filter/objects': 'hostgroup_name=icto_hosts'
  # Wordt misschien ooit hernoemd?
  'tckb':
    groups: 'GGR.CA60.TCKB'
    permissions: 'module/doc, module/monitoring, monitoring/command/*'
    filters:
      'monitoring/filter/objects': 'hostgroup_name=tckb_hosts'
  'ugi':
    groups: 'GGR.CA60.Toepassingen.Beleidsinformatie'
    permissions: 'module/doc, module/monitoring, monitoring/command/*'
    filters:
      'monitoring/filter/objects': 'hostgroup_name=ugi_hosts'
  'sap':
    groups: 'GGR.CA60.Toepassingen.SAP'
    permissions: 'module/doc, module/monitoring, monitoring/command/*'
    filters:
      'monitoring/filter/objects': 'hostgroup_name=sap_hosts'
  'oasis':
    groups: 'GGR.CA60.Toepassingen.Onderwijsadministratie'
    permissions: 'module/doc, module/monitoring, monitoring/command/*'
    filters:
      'monitoring/filter/objects': 'hostgroup_name=oasis_hosts'
  'datacenter':
    groups: 'GGR.CA60.Datacenters'
    permissions: 'module/doc, module/monitoring, monitoring/command/*'
    filters:
      'monitoring/filter/objects': 'hostgroup_name=datacenter_hosts'
  'netwerken':
    groups: 'GGR.CA60.Netwerk'
    permissions: 'module/doc, module/monitoring, monitoring/command/*'
    filters:
      'monitoring/filter/objects': 'hostgroup_name=netwerken_hosts'
  'das':
    groups: 'GGR.CA60.Toepassingen.DAS'
    permissions: 'module/doc, module/monitoring, monitoring/command/*'
    filters:
      'monitoring/filter/objects': 'hostgroup_name=das_hosts'
  'oracle':
    groups: 'GGR.CA60.Toepassingen.DBA'
    permissions: 'module/doc, module/monitoring, monitoring/command/*'
    filters:
      'monitoring/filter/objects': 'hostgroup_name=oracle_hosts'
  # Helpdesk kan alles zien
  'helpdesk':
    groups: 'GGR.CA60.Helpdesk'
    permissions: 'module/doc, module/monitoring'
    #filters:
    #  'monitoring/filter/objects': 
  'readonly':
    users: 'readonly'
    permissions: 'module/monitoring'
    #Wordt later toegevoegd
    #filters:
    #  'monitoring/filter/objects': 'host_group=systemen'

# Icinga2 globale settings
icingaweb2::module::director::git_revision: '16729a98ecdfd1a11a3f8da54182047b756c22a5'
icingaweb2::module::monitoring::protected_customvars: ['pw*','*pass*','community', 'http_auth_pair']
icinga2::manage_repo: true
# Op agents zetten we dit af.  Op server moeten het aan staan
icinga2::confd: false
icinga2::features:
  - 'checker'
  - 'mainlog'
  - 'command'
icinga2::constants:
  NodeName: "%{facts.fqdn_downcased}"
  ZoneName: "%{facts.fqdn_downcased}"
  TicketSalt: ENC[PKCS7,MIIBmQYJKoZIhvcNAQcDoIIBijCCAYYCAQAxggEhMIIBHQIBADAFMAACAQEwDQYJKoZIhvcNAQEBBQAEggEAA7mRnpDxK4QPE1DILeLplISTJogHWrB1e7EhGgsOtiFtsJhof16edEIZHhzUjsIvMMYoDHkb3gGb9ILL+HQhuh9QbnO4vZrhqtF9sZpu2lGT5UMzpSTHE2NPhwp1XfoO8tZqe4RUSXKU4PDe6XlmeFw6ZIXIntbRDpT+K0C0sUAFDEsoFafN46Vos4tgyhPquG+drsgdg0gMN9omiKhgxAGN0s7wDgvI/vcfmOUc6JPJ7PCxFaMcc7YfYTW9XE6YtTDCwAi/yai9EwpwXRJYb5NqiaVCs1y4E6NaYMampKodv+ljIaNtZNI5h8QJ1jFBfEJK0YOwLLC2zKN3RmK0hjBcBgkqhkiG9w0BBwEwHQYJYIZIAWUDBAEqBBB4bwx1pC/4KHoalM+EooZkgDB+4pyizN66cixXUDeUjUkRYn7vn/5o9CRoJyKos6t4HkUoolDvmqNJdKQrzKHUftg=]
# Hieronder is nodig om de icinga2 agent te kunnen configueren
icinga2::feature::api::ticket_salt: "%{lookup('icinga2::constants.TicketSalt')}"

# Icinga2 agent configuratie.  Voor een master moeten we dit overschrijven in de
# master zijn node!
icinga2::feature::api::pki: 'icinga2'
icinga2::feature::api::ca_host: 'oneiroi.ugent.be'
icinga2::feature::api::accept_config: true
icinga2::feature::api::accept_commands: true
icinga2::feature::api::endpoints:
  NodeName: {}
  oneiroi.ugent.be:
    host: 'oneiroi.ugent.be'
icinga2::feature::api::zones:
  NodeName:
    endpoints:
      - 'NodeName'
    parent: 'master'
  master:
    endpoints:
      - 'oneiroi.ugent.be'

# SAP
sap_server::repo_password: >
  ENC[PKCS7,MIIBqQYJKoZIhvcNAQcDoIIBmjCCAZYCAQAxggEhMIIBHQIBADAFMAACAQEw
  DQYJKoZIhvcNAQEBBQAEggEAfm/4W05gCk7do9ZAz4rjJODw6aIpzJ+mwbIb
  mTut6eB1YfdjN9D1DwBZTbDfPLmocvqvnPiv0+f1rPQWST2skQGdYT4dKvgT
  xfiyrsCr8Yr24OaxTiMaX+wUgvh1XcLnPOF4XFDx8Bsw4N22VduC9STfC5zR
  CWY24v239DzemCoLczUns8T407ine40/j4D/Kkr6xdfbvZPuHaGXMl/jYoZ4
  DNsbS/6oeJ2TIHvA/+VeYHyXc+L7/ZSSNa4ZLJL17lWDS+lneZXJ5zuUbr+K
  c15jiaQPzEtwD0oPWPjbRqegjCini9uqW/cECL96Gwkyaw4Jp0gO7Ztn+yW3
  ChQGFDBsBgkqhkiG9w0BBwEwHQYJYIZIAWUDBAEqBBD/J/1UyfCWEydfyNxQ
  bCpSgECkqxU5VFEd2KyZjgN/r30CeUPI+sp0fIskcneD1cky7Q0cbjtXiO03
  GjGnDrEzGvMS8CpjmtfSu9OsIC9ZIFVG]
sap_server::system_user_password: >
    ENC[PKCS7,MIIBeQYJKoZIhvcNAQcDoIIBajCCAWYCAQAxggEhMIIBHQIBADAFMAACAQEw
    DQYJKoZIhvcNAQEBBQAEggEAvsrafT/LyXF5PRq0tmF2gW2gwWZxUMA6i/ii
    aaDzj24sNxx3PjKz0w53obNxKyVaiGpCiFkR8RGlTHldaAsD1kToinE+kZJ1
    WQslNWaiBN7F5NzGKVMrmVEuQMbNGgoyl/MLa0R8Vean7K9pGQIqxzDMXmdB
    LJmMpNoZh8ZB/QM0kTNDYbuYrJBR3Ek7r0v/Vk1x7XyiRvQHtKdxtuyXnGlC
    nWWg2pUtMKMAY0CyfybDUg7bwcHZpi+fftr2eA7EOTbw2iUGymbNxfuB3md4
    pLr8qmmx3t9qo2fvf1iuAJSiSwncmis+JUPh5tF25a0MtjNHzyZ6pB6eq4mw
    nNZBxjA8BgkqhkiG9w0BBwEwHQYJYIZIAWUDBAEqBBA/+9oZdztqSHUr2Wcv
    z5ZfgBBry6n31AakNfLpbEVAlL/M]

# Newrelic
php_webserver::newrelic::license_key: ENC[PKCS7,MIIBmQYJKoZIhvcNAQcDoIIBijCCAYYCAQAxggEhMIIBHQIBADAFMAACAQEwDQYJKoZIhvcNAQEBBQAEggEAZjx5tgKVNfFpl0K0+SpOJPgS/gnhuitfLXQvhDkl5p26i5aOUgfOTfgybJdGDHyOWM6dPbuJkcCDYfd/YUSdK55BLxXP95tw7DCf5UP2GUYDR54aEuz81z81IEQVy0GyV+mz43Hboppxt0zeDmP9jfAlDJKmtKZHs1FYPamEGfH1E8HjdCEldTTlcGhqOFPuWWPBMqvu6iYslnNOG5pnilZoyPcWqhsJgxl/z3o/LUAf5Ey/xPV408H49Pu+aqWWPWSsUWKVCKYoeJHGH/+q/bBt63uqc2tr3lIHXavx8PH7jG1C0LcWWZMBmzkjFtnsCP8dcmXYYyIuvQVt8b3dNDBcBgkqhkiG9w0BBwEwHQYJYIZIAWUDBAEqBBB6OyFiIiG0oPllqoyV8LcJgDDXRqOP8AgqkAXSzUr8Ch76rMRvZyE6M3ZS2vexVlHEkr0SiF7cqu9UqB1xXWgzJwE=]
newrelic::agent::php::newrelic_php_conf_dir:
  - '/etc/php5/fpm/conf.d'Q
